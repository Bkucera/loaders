(function(e){function t(t){for(var r,o,a=t[0],c=t[1],u=t[2],l=0,p=[];l<a.length;l++)o=a[l],i[o]&&p.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"229f":function(e,t,n){},"3c2d":function(e,t,n){e.exports=n.p+"img/pig.0cd95f29.gif"},"440a":function(e,t,n){"use strict";var r=n("e394"),i=n.n(r);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),i=n("ce5b"),s=n.n(i);n("bf40");r["default"].use(s.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},iconfont:"md"});var o,a,c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-toolbar",{attrs:{app:"",height:"40px",flat:"",color:"demo"===e.screen?"accent":""}},[n("v-toolbar-title",{staticClass:"headline"},[n("span",[e._v("Psycode")]),n("span",{staticClass:"font-weight-light"},[e._v(" Experiment")])]),n("v-spacer"),e._v("\n    id:Â "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.id))])],1),n("v-content",[n("v-container",{attrs:{"fill-height":"","align-center":""}},[n("v-layout",[n("v-slide-y-transition",{attrs:{mode:"out-in"}},["menu"===e.screen?n("v-flex",{key:"menu",attrs:{"text-xs-center":"",column:""}},[n("v-flex",{attrs:{title:"","font-weight-light":""}},[n("p",[e._v("Welcome to the Psycode experiment. Before we begin, here's a survey.")]),n("p",[e._v("\n                Your results will be anonymized.")])]),n("v-btn",{attrs:{target:"blank",href:"https://docs.google.com/forms/d/e/1FAIpQLSc9PCjwowMc5Anpc_f2_LVIdC7ctjpAogN0qOveaqP4_gtV_w/viewform?entry.795072666="+e.id},on:{click:function(t){e.infoScreen()}}},[e._v("Survey")])],1):"info"===e.screen?n("v-flex",{attrs:{"text-xs-center":""}},[n("v-flex",[e.demoComplete?n("span",[e._v("\n                Great! Click start to begin\n              ")]):n("span",[e._v("\n                Before we start, please take this short demo.\n              ")]),n("br"),n("v-btn",{attrs:{disabled:e.demoComplete},on:{click:function(t){e.$store.commit("app/next_screen",e.SCREEN.DEMO)}}},[e._v("Take demo")])],1),n("v-flex",[n("v-btn",{attrs:{disabled:!e.demoComplete},on:{click:function(t){e.$store.commit("app/next_screen",e.SCREEN.EXPERIMENT)}}},[e._v("start")])],1)],1):"demo"===e.screen?n("Experiment",{key:"demo",attrs:{id:"demo"}}):"experiment"===e.screen?n("Experiment",{key:"app",attrs:{id:e.id}}):e._e()],1)],1)],1)],1)],1)},u=[],d=n("be94"),l=(n("6b54"),n("2f62")),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"text-xs-center":"","justify-center":"","align-center":""}},[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[e.screen===e.SCREEN.WAITING?n("div",{key:"waiting"},[[n("v-progress-linear",{model:{value:e.experimentProgress,callback:function(t){e.experimentProgress=t},expression:"experimentProgress"}})],e._v("\n        click to continue to the next loader."),n("br"),n("v-btn",{on:{click:function(t){e.startLoading()}}},[e._v("Load")])],2):e.screen===e.SCREEN.LOADING&&"demo"===e.id?n("DemoLoader",{staticClass:"no-anim",attrs:{indicator:e.currentResult.indicator,"current-percentage":e.currentPercentage}}):e.screen===e.SCREEN.LOADING?n("Loader",{staticClass:"no-anim",attrs:{indicator:e.currentResult.indicator,"current-percentage":e.currentPercentage}}):e.screen===e.SCREEN.GUESSING?n("div",{key:"guessing"},[n("v-scale-transition",{attrs:{mode:"out-in"}},[e.pressTime?n("div",{key:"button"},[n("v-btn",{attrs:{dark:""},on:{click:function(t){e.pressTime=0,e.pressing=0}}},[n("v-icon",{attrs:{left:""}},[e._v("undo")]),e._v("redo")],1),n("v-btn",{on:{click:function(t){e.startWaiting()}}},[e._v("Submit")])],1):n("div",{key:"sd"},[e.pressing?n("span",{key:"2"},[e._v("Release when ready")]):n("span",{key:"1"},[e._v("Hold the spacebar")]),n("div",{class:{spacebar:!0,down:e.pressing,"mt-3":!0}})])])],1):e.screen===e.SCREEN.DONE?n("div",[e._v("\n        Done!"),n("br"),e._v(" You may close this window.\n      ")]):e._e()],1)],1)},m=[],f=(n("96cf"),n("1da1")),v=n("2ef0"),h=n("ade3");r["default"].use(l["a"]);var g="next_screen",b={MENU:"menu",INFO:"info",DEMO:"demo",EXPERIMENT:"experiment"},_={namespaced:!0,state:{screen:b.MENU,demoComplete:!1},mutations:(o={},Object(h["a"])(o,g,function(e,t){e.screen=t}),Object(h["a"])(o,"DEMO_COMPLETE",function(e){e.demoComplete=!0}),o)},x="add_result",y={WAITING:"waiting",LOADING:"loading",GUESSING:"guessing",DONE:"done"},E={namespaced:!0,state:{results:[],screen:y.WAITING},mutations:(a={},Object(h["a"])(a,g,function(e,t){e.screen=t}),Object(h["a"])(a,x,function(e,t){e.results=e.results.concat([t])}),Object(h["a"])(a,"CLEAR_RESULTS",function(e){e.results=[]}),a)},O=new l["a"].Store({modules:{app:_,experiment:E}}),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["none"===e.indicator.complexity?r("div",[e._v("\n    loading...\n  ")]):"simple"===e.indicator.complexity?r("div",[e._m(0)]):"moderate"===e.indicator.complexity?r("div",[e._m(1)]):"complex"===e.indicator.complexity?r("div",[r("img",{attrs:{src:n("3c2d")}})]):e._e(),e.indicator.determinant?r("v-flex",{staticClass:"headline",attrs:{"mt-4":""}},[e._v("\n    "+e._s(Math.round(e.currentPercentage))),r("span",{staticClass:"subheading"},[e._v("%")])]):e._e()],1)},C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ball"},[n("div")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ball"},[n("div"),n("div"),n("div")])}],N=(n("c5f6"),{props:{indicator:Object,currentPercentage:Number}}),S=N,P=(n("440a"),n("2877")),j=Object(P["a"])(S,w,C,!1,null,"7dc0246b",null);j.options.__file="Loader.vue";var k=j.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["demo1"===e.indicator.complexity?n("div",[e._m(0)]):"demo2"===e.indicator.complexity?n("div",[e._m(1)]):e._e(),e.indicator.determinant?n("v-flex",{staticClass:"headline",attrs:{"mt-4":""}},[e._v("\n    "+e._s(Math.round(e.currentPercentage))),n("span",{staticClass:"subheading"},[e._v("%")])]):e._e()],1)},T=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ball"},[n("div"),n("div"),n("div")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ball"},[n("div")])}],I={props:{indicator:Object,currentPercentage:Number}},L=I,D=(n("641c"),Object(P["a"])(L,R,T,!1,null,"017846ac",null));D.options.__file="DemoLoader.vue";var M=D.exports,A=4e3,G=8e3,$=5;function F(e,t){return Math.min(e+100*$/(t||1),99)}var U=["none","simple","moderate","complex"],W=v["shuffle"](v["flatten"](v["map"](U,function(e){return[{complexity:e,determinant:!0},{complexity:e,determinant:!1}]}))),K=[{complexity:"demo1",determinant:!0},{complexity:"demo2",determinant:!1}],B={components:{Loader:k,DemoLoader:M},props:{id:{type:String,default:"anon"}},data:function(){return{startPress:0,SCREEN:y,currentResult:{indicator:{complexity:"moderate",determinant:!0}},indicators:W,currentPercentage:0,pressTime:0,pressing:!1,index:0}},computed:Object(d["a"])({experimentProgress:function(){return this.results.length/this.indicators.length*100}},Object(l["c"])("experiment",{results:function(e){return e.results},screen:function(e){return e.screen},demo:function(e){return e.demo}})),mounted:function(){window.addEventListener("keydown",this.processKeyDown),window.addEventListener("keyup",this.processKeyUp),"demo"===this.id&&(this.indicators=K)},methods:Object(d["a"])({startLoading:function(){var e=this;this[g](y.LOADING),this.currentResult={real:Math.round(A+Math.random()*(G-A)),indicator:this.indicators[this.index++],guess:null},this.currentPercentage=0;var t=setInterval(function(){return e.currentPercentage=F(e.currentPercentage,e.currentResult.real)},$);setTimeout(function(){clearInterval(t),e.startguessing()},this.currentResult.real)},startguessing:function(){this.pressing=!1,this.pressTime=0,this[g](y.GUESSING)},startWaiting:function(){this.currentResult.guess=this.pressTime,this[x](v["cloneDeep"](this.currentResult)),this[g](y.WAITING),this.index===this.indicators.length&&("demo"===this.id?this.endDemo():this.endExperiment())},endDemo:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$store.commit("experiment/CLEAR_RESULTS"),this.$store.commit("app/".concat(g),"info"),this.$store.commit("app/DEMO_COMPLETE");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),endExperiment:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this[g](y.DONE),e.next=3,fetch("https://psycode-375bf.firebaseio.com/data.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:this.id,info:this.results})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),processKeyDown:function(e){32===e.keyCode&&(this.startPress||(this.pressing=!0,this.startPress=(new Date).getTime()))},processKeyUp:function(e){if(32===e.keyCode){this.pressing=!1;var t=(new Date).getTime()-this.startPress;this.pressTime=t,this.startPress=0}}},Object(l["b"])("experiment",[x,g]))},J=B,X=(n("dd0b"),Object(P["a"])(J,p,m,!1,null,null,null));X.options.__file="Experiment.vue";var q=X.exports,V={name:"App",components:{Experiment:q},data:function(){return{info:!1,id:Math.round(1e7*Math.random()).toString(16),NEXT_SCREEN:g,SCREEN:b}},computed:Object(d["a"])({},Object(l["c"])("app",["screen","demoComplete"])),methods:{infoScreen:function(){this.$store.commit("app/".concat(g),b.INFO)}}},Y=V,z=Object(P["a"])(Y,c,u,!1,null,null,null);z.options.__file="App.vue";var H=z.exports;n("d5e8"),n("d1e7");r["default"].config.productionTip=!1,new r["default"]({store:O,render:function(e){return e(H)}}).$mount("#app")},"641c":function(e,t,n){"use strict";var r=n("fbd5"),i=n.n(r);i.a},dd0b:function(e,t,n){"use strict";var r=n("229f"),i=n.n(r);i.a},e394:function(e,t,n){},fbd5:function(e,t,n){}});
//# sourceMappingURL=app.07c855c7.js.map